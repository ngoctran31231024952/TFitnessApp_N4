<Window x:Class="TFitnessApp.Windows.Window2"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TFitnessApp.Windows"
        xmlns:fa="clr-namespace:FontAwesome.Sharp;assembly=FontAwesome.Sharp"
        mc:Ignorable="d"
        Title="Chi tiết Giao dịch" 
        Height="550" Width="850"
        WindowStartupLocation="CenterScreen"
        AllowsTransparency="True"
        WindowStyle="None"
        Background="Transparent">

    <Window.Resources>
        <!-- Style cho các nút chính (Sửa, Xóa, Xuất) -->
        <Style x:Key="ActionButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#C71A1B"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="5">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#A51617"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#951516"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Style cho TextBlock nhãn (Labels) -->
        <Style x:Key="LabelStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#333"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,0,10,0"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
        </Style>

        <!-- Style cho TextBlock giá trị (Values) -->
        <Style x:Key="ValueStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#000"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
        </Style>

        <!-- Style mới cho Border gạch chân giá trị -->
        <Style x:Key="ValueBorderStyle" TargetType="Border">
            <Setter Property="BorderBrush" Value="#AAAAAA"/>
            <Setter Property="BorderThickness" Value="0,0,0,1"/>
            <Setter Property="Margin" Value="0,5,0,5"/>
        </Style>
    </Window.Resources>

    <Border CornerRadius="10" Background="White" BorderBrush="#E0E0E0" BorderThickness="1">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Header -->
                <RowDefinition Height="*"/>
                <!-- Content -->
                <RowDefinition Height="Auto"/>
                <!-- Footer (Buttons) -->
            </Grid.RowDefinitions>

            <!-- 1. HEADER (Tiêu đề và nút đóng) -->
            <Border Grid.Row="0" Background="#C71A1B" CornerRadius="10,10,0,0">
                <Grid Height="50">
                    <TextBlock Text="Chi tiết Giao dịch"
                               FontSize="18"
                               FontWeight="Bold"
                               Foreground="White"
                               VerticalAlignment="Center"
                               Margin="20,0,0,0"/>
                    <!-- Nút Đóng -->
                    <Button x:Name="btnClose" 
                            HorizontalAlignment="Right" 
                            Width="50" Height="50"
                            Background="Transparent"
                            BorderThickness="0"
                            Click="btnClose_Click">
                        <fa:IconImage Icon="Xmark" Foreground="White" Width="18" Height="18"/>
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="Button">
                                            <Border Background="{TemplateBinding Background}">
                                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </Border>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#A51617"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </Grid>
            </Border>

            <!-- 2. CONTENT - CHI TIẾT DỮ LIỆU -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="20">
                <!-- Đã thêm HorizontalAlignment="Center" để căn giữa StackPanel chứa toàn bộ nội dung -->
                <StackPanel HorizontalAlignment="Center">
                    <!-- KHỐI 1: THÔNG TIN GIAO DỊCH CHUNG -->
                    <!-- Đã chỉnh sửa Border để tạo khung bao quanh 4 trường thông tin đầu tiên -->
                    <Border BorderBrush="#C71A1B" 
                            BorderThickness="1" 
                            CornerRadius="5"
                            Padding="15" 
                            Margin="0,0,0,15"
                            Background="#FFF8F8">

                        <!-- Đã điều chỉnh Grid.ColumnDefinitions để căn giữa nội dung -->
                        <Grid Width="450">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <!-- Cột đệm trái -->
                                <ColumnDefinition Width="Auto"/>
                                <!-- Cột cho Nhãn -->
                                <ColumnDefinition Width="200"/>
                                <!-- Cột cho Giá trị -->
                                <ColumnDefinition Width="*"/>
                                <!-- Cột đệm phải -->
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- Hàng 1 -->
                            <!-- Chuyển sang Grid.Column="1" (cột nhãn) -->
                            <TextBlock Grid.Row="0" Grid.Column="1" Text="Mã giao dịch:" Style="{StaticResource LabelStyle}" HorizontalAlignment="Left"/>
                            <!-- Chuyển sang Grid.Column="2" (cột giá trị) -->
                            <Border Grid.Row="0" Grid.Column="2" Style="{StaticResource ValueBorderStyle}">
                                <TextBlock x:Name="txtMaGiaoDich" Text="" Style="{StaticResource ValueStyle}"/>
                            </Border>

                            <!-- Hàng 2 -->
                            <TextBlock Grid.Row="1" Grid.Column="1" Text="Ngày giao dịch:" Style="{StaticResource LabelStyle}" HorizontalAlignment="Left"/>
                            <Border Grid.Row="1" Grid.Column="2" Style="{StaticResource ValueBorderStyle}">
                                <TextBlock x:Name="txtNgayGiaoDich" Text="" Style="{StaticResource ValueStyle}"/>
                            </Border>

                            <!-- Hàng 3 -->
                            <TextBlock Grid.Row="2" Grid.Column="1" Text="Trạng thái:" Style="{StaticResource LabelStyle}" HorizontalAlignment="Left"/>
                            <Border Grid.Row="2" Grid.Column="2" Style="{StaticResource ValueBorderStyle}">
                                <!-- Thêm x:Name để dễ dàng thay đổi Foreground và Text khi đổ dữ liệu -->
                                <TextBlock x:Name="txtTrangThai" Text="" Style="{StaticResource ValueStyle}" Foreground="#000000"/>
                            </Border>

                            <!-- Hàng 4 -->
                            <TextBlock Grid.Row="3" Grid.Column="1" Text="Phương thức:" Style="{StaticResource LabelStyle}" HorizontalAlignment="Left"/>
                            <Border Grid.Row="3" Grid.Column="2" Style="{StaticResource ValueBorderStyle}">
                                <TextBlock x:Name="txtPhuongThuc" Text="" Style="{StaticResource ValueStyle}"/>
                            </Border>
                        </Grid>
                    </Border>


                    <!-- KHỐI 2: THÔNG TIN CHI TIẾT VÀ TÀI CHÍNH -->
                    <!-- Đã đặt Width cố định để căn giữa nội dung khối 2 -->
                    <Grid Width="700" HorizontalAlignment="Center" Margin="0,15,0,20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <!-- Mã HV / Mã Gói -->
                            <RowDefinition Height="Auto"/>
                            <!-- Họ tên HV / Tên Gói -->
                            <RowDefinition Height="Auto"/>
                            <!-- Mã NV / Tổng tiền -->
                            <RowDefinition Height="Auto"/>
                            <!-- Họ tên NV / Đã TT -->
                            <RowDefinition Height="Auto"/>
                            <!-- Ghi chú / Tiền nợ -->
                        </Grid.RowDefinitions>

                        <!-- Cột Trái: Thông tin Học viên & Nhân viên -->
                        <!-- Hàng 1 -->
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Mã học viên:" Style="{StaticResource LabelStyle}"/>
                        <Border Grid.Row="0" Grid.Column="1" Style="{StaticResource ValueBorderStyle}" Margin="0,5,20,5">
                            <TextBlock x:Name="txtMaHocVien" Text="" Style="{StaticResource ValueStyle}"/>
                        </Border>

                        <!-- Hàng 2 -->
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Họ tên học viên:" Style="{StaticResource LabelStyle}"/>
                        <Border Grid.Row="1" Grid.Column="1" Style="{StaticResource ValueBorderStyle}" Margin="0,5,20,5">
                            <TextBlock x:Name="txtHoTenHocVien" Text="" Style="{StaticResource ValueStyle}"/>
                        </Border>

                        <!-- Hàng 3 -->
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Mã nhân viên:" Style="{StaticResource LabelStyle}"/>
                        <Border Grid.Row="2" Grid.Column="1" Style="{StaticResource ValueBorderStyle}" Margin="0,5,20,5">
                            <TextBlock x:Name="txtMaNhanVien" Text="" Style="{StaticResource ValueStyle}"/>
                        </Border>

                        <!-- Hàng 4 -->
                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Họ tên nhân viên:" Style="{StaticResource LabelStyle}"/>
                        <Border Grid.Row="3" Grid.Column="1" Style="{StaticResource ValueBorderStyle}" Margin="0,5,20,5">
                            <TextBlock x:Name="txtHoTenNhanVien" Text="" Style="{StaticResource ValueStyle}"/>
                        </Border>

                        <!-- Hàng 5 -->
                        <TextBlock Grid.Row="4" Grid.Column="0" Text="Ghi chú:" Style="{StaticResource LabelStyle}"/>
                        <Border Grid.Row="4" Grid.Column="1" Style="{StaticResource ValueBorderStyle}" Margin="0,5,20,5">
                            <TextBlock x:Name="txtGhiChu" Text="" Style="{StaticResource ValueStyle}"/>
                        </Border>

                        <!-- Cột Phải: Thông tin Gói tập & Tài chính -->
                        <!-- Hàng 1 -->
                        <TextBlock Grid.Row="0" Grid.Column="2" Text="Mã gói tập:" Style="{StaticResource LabelStyle}"/>
                        <Border Grid.Row="0" Grid.Column="3" Style="{StaticResource ValueBorderStyle}">
                            <TextBlock x:Name="txtMaGoiTap" Text="" Style="{StaticResource ValueStyle}"/>
                        </Border>

                        <!-- Hàng 2 -->
                        <TextBlock Grid.Row="1" Grid.Column="2" Text="Tên gói tập:" Style="{StaticResource LabelStyle}"/>
                        <Border Grid.Row="1" Grid.Column="3" Style="{StaticResource ValueBorderStyle}">
                            <TextBlock x:Name="txtTenGoiTap" Text="" Style="{StaticResource ValueStyle}"/>
                        </Border>

                        <!-- Hàng 3 -->
                        <TextBlock Grid.Row="2" Grid.Column="2" Text="Tổng tiền:" Style="{StaticResource LabelStyle}"/>
                        <Border Grid.Row="2" Grid.Column="3" Style="{StaticResource ValueBorderStyle}">
                            <TextBlock x:Name="txtTongTien" Text="" Style="{StaticResource ValueStyle}"/>
                        </Border>

                        <!-- Hàng 4 -->
                        <TextBlock Grid.Row="3" Grid.Column="2" Text="Đã thanh toán:" Style="{StaticResource LabelStyle}"/>
                        <Border Grid.Row="3" Grid.Column="3" Style="{StaticResource ValueBorderStyle}">
                            <TextBlock x:Name="txtDaThanhToan" Text="" Style="{StaticResource ValueStyle}"/>
                        </Border>

                        <!-- Hàng 5 -->
                        <TextBlock Grid.Row="4" Grid.Column="2" Text="Số tiền nợ:" Style="{StaticResource LabelStyle}"/>
                        <Border Grid.Row="4" Grid.Column="3" Style="{StaticResource ValueBorderStyle}">
                            <TextBlock x:Name="txtSoTienNo" Text="" Style="{StaticResource ValueStyle}"/>
                        </Border>

                    </Grid>
                </StackPanel>
            </ScrollViewer>

            <!-- 3. FOOTER - NÚT HÀNH ĐỘNG -->
            <Border Grid.Row="2" Background="#F8F8F8" Padding="20" CornerRadius="0,0,10,10" BorderBrush="#E0E0E0" BorderThickness="0,1,0,0">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <!-- Nút Sửa (Giữ nguyên màu đỏ chính) -->
                    <Button x:Name="btnSua"
                            Width="100"
                            Style="{StaticResource ActionButtonStyle}"
                            Background="#C71A1B"
                            Margin="0,0,15,0">
                        <StackPanel Orientation="Horizontal">
                            <fa:IconImage Icon="Pen" Width="14" Height="14" Foreground="White" Margin="0,0,5,0"/>
                            <TextBlock Text="Sửa"/>
                        </StackPanel>
                    </Button>

                    <!-- Nút Xóa (Đổi màu sang màu đỏ chính) -->
                    <Button x:Name="btnXoa"
                            Width="100"
                            Style="{StaticResource ActionButtonStyle}"
                            Background="#C71A1B" 
                            Margin="0,0,15,0">
                        <StackPanel Orientation="Horizontal">
                            <fa:IconImage Icon="Trash" Width="14" Height="14" Foreground="White" Margin="0,0,5,0"/>
                            <TextBlock Text="Xóa"/>
                        </StackPanel>
                    </Button>

                    <!-- Nút Xuất (Đổi màu sang màu đỏ chính) -->
                    <Button x:Name="btnXuat"
                            Width="100"
                            Style="{StaticResource ActionButtonStyle}"
                            Background="#C71A1B">
                        <StackPanel Orientation="Horizontal">
                            <fa:IconImage Icon="Download" Width="14" Height="14" Foreground="White" Margin="0,0,5,0"/>
                            <TextBlock Text="Xuất"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>