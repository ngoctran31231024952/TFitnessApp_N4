<Window x:Class="TFitnessApp.Windows.XemThongTinHocVienWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:fa="http://schemas.awesome.incremented/wpf/xaml/fontawesome.sharp"
        Title="Thông tin học viên" Height="500" Width="800"
        WindowStartupLocation="CenterScreen" ResizeMode="NoResize"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent" FontFamily="Lato">
    <Window.Resources>
        <!-- Style cho nút Đóng (Close Button) -->
        <Style x:Key="CloseButtonStyle" TargetType="Button">
            <Setter Property="Width" Value="30"/>
            <Setter Property="Height" Value="30"/>
            <Setter Property="Background" Value="#A01516"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="5">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <!-- Khi di chuột vào: Màu đỏ đậm hơn để nổi bật trên nền đỏ của Header -->
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#A01516"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#750C0D"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Border Background="White" CornerRadius="10" BorderBrush="#DDD" BorderThickness="1">
        <Border.Effect>
            <DropShadowEffect BlurRadius="20" ShadowDepth="0" Opacity="0.3" Color="Black"/>
        </Border.Effect>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="50"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="60"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0" Background="#C71A1B" CornerRadius="10,10,0,0">
                <Grid>
                    <TextBlock Text="XEM THÔNG TIN HỌC VIÊN" Foreground="White" FontSize="18" FontWeight="Bold" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    <Button HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,15,0" Background="Transparent" BorderThickness="0" Click="BtnDong_Click" Cursor="Hand">
                        <fa:IconImage Icon="Times" Width="16" Foreground="White"/>
                    </Button>
                </Grid>
            </Border>

            <!-- 2. NỘI DUNG CHI TIẾT -->
            <Grid Grid.Row="1" Margin="40,30">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1.2*"/>
                    <!-- Cột Trái: Thông tin cá nhân -->
                    <ColumnDefinition Width="40"/>
                    <!-- Khoảng cách -->
                    <ColumnDefinition Width="1*"/>
                    <!-- Cột Phải: Ảnh và thông tin hợp đồng -->
                </Grid.ColumnDefinitions>

                <!-- SỬA LỖI TẠI ĐÂY: Đổi StackPanel.Resources thành Grid.Resources -->
                <Grid.Resources>
                    <!-- Style chung cho Label -->
                    <Style TargetType="TextBlock" x:Key="LabelStyle">
                        <Setter Property="Foreground" Value="#666"/>
                        <Setter Property="FontSize" Value="13"/>
                        <Setter Property="Margin" Value="0,0,0,5"/>
                    </Style>
                    <!-- Style chung cho Value (Dữ liệu) -->
                    <Style TargetType="TextBlock" x:Key="ValueStyle">
                        <Setter Property="Foreground" Value="#333"/>
                        <Setter Property="FontSize" Value="16"/>
                        <Setter Property="FontWeight" Value="SemiBold"/>
                        <Setter Property="TextWrapping" Value="Wrap"/>
                        <Setter Property="Margin" Value="0,0,0,20"/>
                    </Style>
                </Grid.Resources>

                <!-- Cột Trái: Thông tin cá nhân -->
                <StackPanel Grid.Column="0" Grid.ColumnSpan="2" Margin="40,0,40,0">
                    <TextBlock Text="Mã học viên" Style="{StaticResource LabelStyle}"/>
                    <TextBlock x:Name="txtMaHV" Text="HVxxxx" Style="{StaticResource ValueStyle}" FontWeight="Bold"/>

                    <TextBlock Text="Họ tên học viên" Style="{StaticResource LabelStyle}"/>
                    <TextBlock x:Name="txtHoTen" Text="Nguyễn Văn A" Style="{StaticResource ValueStyle}"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="20"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Ngày sinh" Style="{StaticResource LabelStyle}"/>
                            <TextBlock x:Name="txtNgaySinh" Text="dd/MM/yyyy" Style="{StaticResource ValueStyle}"/>
                        </StackPanel>
                        <StackPanel Margin="0,173,20,-173" Grid.ColumnSpan="2">
                            <TextBlock Text="Giới tính" Style="{StaticResource LabelStyle}"/>
                            <TextBlock x:Name="txtGioiTinh" Text="Nam" Style="{StaticResource ValueStyle}"/>
                        </StackPanel>
                    </Grid>

                    <TextBlock Text="Email" Style="{StaticResource LabelStyle}"/>
                    <TextBlock x:Name="txtEmail" Text="email@example.com" Style="{StaticResource ValueStyle}"/>

                    <TextBlock Text="Số điện thoại" Style="{StaticResource LabelStyle}"/>
                    <TextBlock x:Name="txtSDT" Text="09xxxxxxxx" Style="{StaticResource ValueStyle}" Margin="0" RenderTransformOrigin="0.516,3.272"/>
                </StackPanel>

                <!-- Cột Phải: Ảnh và Thông tin Hợp đồng -->
                <StackPanel Grid.Column="1" VerticalAlignment="Top" Grid.ColumnSpan="2" Margin="0,0,40,0">
                    <!-- Ảnh và Label Ảnh -->
                    <Grid Margin="0,0,0,25" Height="161">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Ảnh học viên" Style="{StaticResource LabelStyle}" VerticalAlignment="Top" Margin="0,0,15,0"/>
                        <Border Grid.Column="1" Width="150" Height="150" 
                                BorderBrush="#EEE" BorderThickness="1" 
                                CornerRadius="5" Background="#F9F9F9" 
                                HorizontalAlignment="Left">
                            <Grid>
                                <fa:IconImage Icon="User" Foreground="#DDD" Height="70" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                <Image x:Name="imgAvatar" Stretch="UniformToFill"/>
                            </Grid>
                        </Border>
                    </Grid>

                    <!-- Thông tin Hợp đồng (Lấy từ CSDL) -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1.5*"/>
                            <ColumnDefinition Width="2*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Ngày tham gia -->
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Ngày tham gia" Style="{StaticResource LabelStyle}" VerticalAlignment="Top" Margin="0,5,0,0"/>
                        <TextBlock Grid.Row="0" x:Name="txtNgayThamGia" Text="--" Style="{StaticResource ValueStyle}" Grid.ColumnSpan="2" Margin="132,7,0,13" FontSize="14"/>

                        <!-- Gói tập -->
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Gói tập" Style="{StaticResource LabelStyle}" VerticalAlignment="Center"/>
                        <TextBlock Grid.Row="1" x:Name="txtGoiTap" Text="--" Style="{StaticResource ValueStyle}" Grid.ColumnSpan="2" Margin="132,8,0,12" FontSize="14"/>

                        <!-- PT phụ trách -->
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="PT phụ trách" Style="{StaticResource LabelStyle}" VerticalAlignment="Center"/>
                        <TextBlock Grid.Row="2" x:Name="txtPT" Text="--" Style="{StaticResource ValueStyle}" Grid.ColumnSpan="2" Margin="132,8,0,13" FontSize="14"/>

                        <!-- Chi nhánh -->
                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Chi nhánh" Style="{StaticResource LabelStyle}" VerticalAlignment="Center"/>
                        <TextBlock Grid.Row="3" x:Name="txtChiNhanh" Text="--" Style="{StaticResource ValueStyle}" Margin="132,6,0,12" Grid.ColumnSpan="2" FontSize="14"/>
                    </Grid>
                </StackPanel>
            </Grid>

            <!-- Footer -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Top">
                <Button Content="Đóng" Click="BtnDong_Click" Width="100" Height="35" Background="{DynamicResource TFitness.PrimaryRed}" Foreground="{DynamicResource TFitness.White}" BorderThickness="0" Cursor="Hand" FontWeight="Bold" FontSize="16"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>